{{- 'product.css' | asset_url | stylesheet_tag -}}
{%- liquid
	assign first_3d_model = product.media | where: "media_type", "model" | first
  assign media_aspect_ratio = section.settings.media_aspect_ratio
	assign full_width = section.settings.full_width
	assign media_layout = section.settings.media_layout
	assign display_slider_pagination = section.settings.display_slider_pagination
	assign image_index = -1
	assign display_captions = section.settings.display_captions
	assign hide_variants = section.settings.hide_variants
	assign featured_media = product.selected_or_first_available_variant.featured_media
	assign first_image = nil
	assign variant_images = product.images | where: 'attached_to_variant?', true | map: 'src'
	assign sizes = '375x375,640x640,960x960,1280x1280'
	if media_aspect_ratio == 'adapt'
		assign sizes = '375x0,640x0,960x0,1280x0'
	elsif media_aspect_ratio == 'portrait'
		assign sizes = '375x469,640x800,960x1200,1280x1600'
	elsif media_aspect_ratio == 'landscape'
		assign sizes = '375x281,640x480,960x720,1280x960'
	endif
	if hide_variants and variant_images.size == product.media.size
    assign single_media_visible = true
  endif
	assign media_count = product.media.size
  if hide_variants and media_count > 1 and variant_images.size > 0
    assign media_count = media_count | minus: variant_images.size | plus: 1
  endif
  if media_count == 1 or single_media_visible
    assign single_media_visible_mobile = true
  endif
-%}
{%- if media_layout == 'thumbnails' -%}
  {%- assign slider_prefix = '-thumbnails' -%}
  {{- 'product-thumbnails.css' | asset_url | stylesheet_tag -}}
{%- endif -%}
{%- if first_3d_model -%}
  <link id="ModelViewerStyle" rel="stylesheet" href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css" media="print" onload="this.media='all'">
  <link id="ModelViewerOverride" rel="stylesheet" href="{{ 'product-model-viewer-ui.css' | asset_url }}" media="print" onload="this.media='all'">
{%- endif -%}

<div class="thb-product-detail product" data-handle="{{ product.handle }}">
  <div class="row {% if full_width %}full-width-row{% endif %}">
    <div class="small-12 columns">
      <div class="product-grid-container">
        <div id="MediaGallery-{{ section.id }}" data-hide-variants="{{ hide_variants }}">
          <div class="product-image-container product-image-container--{{ media_layout }}">
            <product-image-slider id="Product-Slider" class="product-images product-images--slider" data-captions="{{ display_captions }}" data-hide-variants="{{ hide_variants }}" data-product-id="{{ product.id }}">
              <div class="slider-container">
                <div class="slider-wrapper">
                  {%- for image in product.images -%}
                    <img 
                      src="{{ image.src | img_url: '1000x' }}"
                      srcset="
                        {{ image.src | img_url: '400x' }} 400w,
                        {{ image.src | img_url: '800x' }} 800w,
                        {{ image.src | img_url: '1200x' }} 1200w,
                        {{ image.src | img_url: '1600x' }} 1600w
                      "
                      sizes="(max-width: 749px) 100vw, 50vw"
                      alt="{{ image.alt | escape }}"
                      class="product-featured-image"
                      loading="{% if forloop.first %}eager{% else %}lazy{% endif %}"
                      data-index="{{ forloop.index0 }}"
                      width="{{ image.width }}"
                      height="{{ image.height }}"
                    >
                  {%- endfor -%}
                </div>
                <div class="slider-nav-buttons">
                  <button type="button" class="slider-nav-button prev-button" aria-label="Previous image">
                    {% render 'svg-icons' with 'arrow-left' %}
                  </button>
                  <button type="button" class="slider-nav-button next-button" aria-label="Next image">
                    {% render 'svg-icons' with 'arrow-right' %}
                  </button>
                </div>
              </div>
            </product-image-slider>
          </div>
        </div>
        <div class="product-information">
          <div class="product-information__main">
            {%- render 'product-information', 
              product: product, 
              section: section, 
              update_url: true, 
              pickup: true, 
              first_image: first_image, 
              variant_picker_rendered: true 
            -%}
            <div class="price__unit"></div>
          </div>
          <div class="product-information__blocks">
            {%- for block in section.blocks -%}
              {%- case block.type -%}
                {%- when 'science_excerpt' -%}
                  <div class="product-block product-block--{{ block.type }}" {{ block.shopify_attributes }} style="order: {{ forloop.index }}">
                    <div class="science-excerpt">
                      <h3>
                        {%- if block.settings.icon != blank -%}
                          <img src="{{ block.settings.icon | img_url: '24x24' }}" alt="" loading="lazy" width="24" height="24">
                        {%- endif -%}
                        {{ block.settings.heading }}
                      </h3>
                      <p>{{ block.settings.content }}</p>
                    </div>
                  </div>
                {%- when 'tabs' -%}
                  <div class="product-block product-block--{{ block.type }}" {{ block.shopify_attributes }} style="order: {{ forloop.index }}">
                    <div class="product-tabs">
                      {% if block.settings.show_description %}
                        <details class="product-tab">
                          <summary>Description</summary>
                          <div class="tab-content">
                            {{ product.description }}
                          </div>
                        </details>
                      {% endif %}
                      {% if block.settings.show_ingredients %}
                        <details class="product-tab">
                          <summary>Ingredients</summary>
                          <div class="tab-content">
                            {{ block.settings.ingredients_content }}
                          </div>
                        </details>
                      {% endif %}
                      {% if block.settings.show_shipping %}
                        <details class="product-tab">
                          <summary>Shipping</summary>
                          <div class="tab-content">
                            {{ block.settings.shipping_content }}
                          </div>
                        </details>
                      {% endif %}
                    </div>
                  </div>
                {%- when '@app' -%}
                  <div class="product-block" style="order: {{ forloop.index }}">
                    {% render block %}
                  </div>
                {% else %}
                  {% comment %}Placeholder for other block types{% endcomment %}
              {% endcase %}
            {%- endfor -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="side-panel side-availability" id="Pickup-Availability"></div>
{%- assign side_panels = section.blocks | where: "type", "side_panel" -%}
{%- if side_panels.size > 0 -%}
<script src="{{ 'side-panel-links.js' | asset_url }}" defer="defer"></script>
<div class="side-panel product-information-drawer" id="Product-Information-Drawer" tabindex="-1">
  <div class="side-panel-inner">
    <div class="side-panel-header">
      <div>
        <h4 class="body-font">{{ 'products.product.product_information' | t }}</h4>
        <side-panel-close class="side-panel-close">{%- render 'svg-icons' with 'close' -%}</side-panel-close>
      </div>
    </div>
    <div class="side-panel-content side-panel-content--has-tabs">
      {%- assign block = side_panels[0] -%}
      <side-panel-content-tabs class="side-panel-content--tabs">
        {%- if block.settings.side_panel_1_label != '' -%}
          <button class="tab-active">{{ block.settings.side_panel_1_label }}</button>
        {%- endif -%}
        {%- if block.settings.side_panel_2_label != '' -%}
          <button>{{ block.settings.side_panel_2_label }}</button>
        {%- endif -%}
        {%- if block.settings.side_panel_3_label != '' -%}
          <button>{{ block.settings.side_panel_3_label }}</button>
        {%- endif -%}
      </side-panel-content-tabs>
      <div class="side-panel-content--inner">
        {%- if block.settings.side_panel_1_label != '' -%}
        <div class="side-panel-content--tab-panel rte tab-active">
          {{ block.settings.side_panel_1_content }}
          {{ block.settings.side_panel_1_page.content }}
        </div>
        {%- endif -%}
        {%- if block.settings.side_panel_2_label != '' -%}
        <div class="side-panel-content--tab-panel rte">
          {{ block.settings.side_panel_2_content }}
          {{ block.settings.side_panel_2_page.content }}
        </div>
        {%- endif -%}
        {%- if block.settings.side_panel_3_label != '' -%}
        <div class="side-panel-content--tab-panel rte">
          {{ block.settings.side_panel_3_content }}
          {{ block.settings.side_panel_3_page.content }}
        </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>
{%- endif -%}

{%- if section.settings.lightbox != blank -%}
{% render 'photoswipe' %}
<link rel="stylesheet" href="{{ 'photoswipe.css' | asset_url }}" media="print" onload="this.media='all'">
{%- endif -%}

<script src="{{ 'product.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'product-slider.js' | asset_url }}" defer="defer"></script>
{%- if media_layout == 'thumbnails' -%}
  <script src="{{ 'product-thumbnails.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{%- if first_3d_model -%}
  <script type="application/json" id="ProductJSON-{{ product.id }}">
    {{ product.media | where: 'media_type', 'model' | json }}
  </script>
  <script src="{{ 'product-model.js' | asset_url }}" defer></script>
{%- endif -%}

<script type="application/ld+json">
  {{ product | structured_data }}
</script>

<!-- Add this new JavaScript for variant button color, image selection, and quantity price updates -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Get all elements we need
  const variantRadios = document.querySelectorAll('input[type="radio"][name*="Flavor"]');
  const quantityRadios = document.querySelectorAll('input[type="radio"][name*="Quantity"]');
  const addToCartButton = document.querySelector('.single-add-to-cart-button');
  const allImages = document.querySelectorAll('.product-featured-image');
  const sliderWrapper = document.querySelector('.slider-wrapper');
  const pricePerUnit = document.querySelector('.price__unit');
  const priceContainer = document.querySelector('.price');

  // Store current quantity
  let currentQuantity = null;

  // Price per unit mapping
  const priceMapping = {
    '6': '17.99',
    '12': '33.99',
    '24': '64.99',
    '36': '84.99'
  };

  // Compare at price mapping
  const compareAtPrices = {
    '12': 36.00,
    '24': 72.00,
    '36': 108.00
  };

  // Create a single observer instance
  const observer = new MutationObserver((mutations) => {
    if (!currentQuantity) return;
    
    // Ensure main price is correct
    const mainPrice = priceMapping[currentQuantity];
    if (priceContainer.childNodes[0].textContent !== `$${mainPrice}`) {
      priceContainer.childNodes[0].textContent = `$${mainPrice}`;
    }

    // Handle compare at price
    if (compareAtPrices[currentQuantity]) {
      const existingComparePrice = priceContainer.querySelector('.compare-at-price');
      if (!existingComparePrice) {
        const compareAtElement = document.createElement('span');
        compareAtElement.classList.add('compare-at-price');
        compareAtElement.textContent = `$${compareAtPrices[currentQuantity].toFixed(2)}`;
        priceContainer.appendChild(compareAtElement);
      } else if (existingComparePrice.textContent !== `$${compareAtPrices[currentQuantity].toFixed(2)}`) {
        existingComparePrice.textContent = `$${compareAtPrices[currentQuantity].toFixed(2)}`;
      }
    } else {
      const existingComparePrice = priceContainer.querySelector('.compare-at-price');
      if (existingComparePrice) {
        existingComparePrice.remove();
      }
    }
  });

  // Start observing the price container
  if (priceContainer) {
    observer.observe(priceContainer, {
      childList: true,
      subtree: true,
      characterData: true
    });
  }

  function updatePrices(quantity) {
    currentQuantity = quantity;

    // Calculate price per unit based on quantity
    let pricePerUnitValue;
    switch(quantity) {
      case '6':
        pricePerUnitValue = '3.00';
        break;
      case '12':
        pricePerUnitValue = '2.83';
        break;
      case '24':
        pricePerUnitValue = '2.70';
        break;
      case '36':
        pricePerUnitValue = '2.36';
        break;
      default:
        pricePerUnitValue = '3.00';
    }

    // Update price per unit display
    if (pricePerUnit && priceMapping[quantity]) {
      pricePerUnit.textContent = `$${pricePerUnitValue} / No Hangover`;
    }

    // Update main price display
    if (priceContainer) {
      const mainPrice = priceMapping[quantity];
      priceContainer.childNodes[0].textContent = `$${mainPrice}`;

      // Update compare at price
      const existingComparePrice = priceContainer.querySelector('.compare-at-price');
      if (existingComparePrice) {
        existingComparePrice.remove();
      }

      if (compareAtPrices[quantity]) {
        const compareAtElement = document.createElement('span');
        compareAtElement.classList.add('compare-at-price');
        compareAtElement.textContent = `$${compareAtPrices[quantity].toFixed(2)}`;
        priceContainer.appendChild(compareAtElement);
      }
    }
  }

  // Handle quantity change
  function handleQuantityChange(event) {
    const selectedQuantity = event.target.value;
    updatePrices(selectedQuantity);
  }

  // Add quantity change listeners
  quantityRadios.forEach(radio => {
    radio.addEventListener('change', handleQuantityChange);
  });

  function showImages(indices) {
    // First hide all images
    allImages.forEach((img, index) => {
      img.style.display = 'none';
    });

    // Show only the specified images
    indices.forEach(index => {
      if (allImages[index - 1]) {
        allImages[index - 1].style.display = 'block';
      }
    });

    // Update slider wrapper height to match visible images
    if (sliderWrapper) {
      const visibleImage = document.querySelector('.product-featured-image[style*="display: block"]');
      if (visibleImage) {
        sliderWrapper.style.height = visibleImage.offsetHeight + 'px';
      }
    }
  }

  function handleVariantChange(event) {
    const selectedVariant = event.target.value;
    console.log('Selected variant:', selectedVariant);
    
    // Get the custom bar element
    const customBar = document.getElementById('custom-bar');
    const customBarContent = customBar ? customBar.querySelector('.custom-bar-content') : null;

    // Update button color and custom bar background
    if (addToCartButton) {
      addToCartButton.setAttribute('data-variant', selectedVariant);
      if (selectedVariant === 'Lemon/Lime') {
        addToCartButton.style.backgroundColor = '#91be61';
        if (customBar) customBar.style.backgroundColor = '#91be61';
        if (customBarContent) customBarContent.style.backgroundColor = '#91be61';
        showImages([1, 2, 5]); // Show 1st, 2nd, and 5th images
      } else if (selectedVariant === 'Raspberry') {
        addToCartButton.style.backgroundColor = '#a33057';
        if (customBar) customBar.style.backgroundColor = '#a33057';
        if (customBarContent) customBarContent.style.backgroundColor = '#a33057';
        showImages([3, 4, 5]); // Show 3rd, 4th, and 5th images
      }
    }
  }

  // Add change event listeners to all flavor variant radio buttons
  variantRadios.forEach(radio => {
    radio.addEventListener('change', handleVariantChange);
  });

  // Trigger initial events
  const initiallySelectedVariant = document.querySelector('input[type="radio"][name*="Flavor"]:checked');
  if (initiallySelectedVariant) {
    initiallySelectedVariant.dispatchEvent(new Event('change'));
  }

  const initiallySelectedQuantity = document.querySelector('input[type="radio"][name*="Quantity"]:checked');
  if (initiallySelectedQuantity) {
    currentQuantity = initiallySelectedQuantity.value;
    initiallySelectedQuantity.dispatchEvent(new Event('change'));
  }
});
</script>

<!-- Add CSS for the price unit display -->
<style>
.price__unit {
  font-size: 0.875rem;
  color: #666;
  margin-top: 4px;
  font-weight: 500;
}

@media screen and (max-width: 768px) {
  .price__unit {
    text-align: left;
    width: 100%;
    display: block;
  }
}
</style>

{% schema %}
{
  "name": "Product information",
  "tag": "section",
  "class": "product-section",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "default": false,
      "label": "Make section full width"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_info",
      "default": true,
      "label": "Enable sticky content on desktop"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_add_to_cart",
      "default": true,
      "label": "Show sticky add to cart"
    },
    {
      "type": "checkbox",
      "id": "show_taxes_included",
      "default": true,
      "label": "Show tax and shipping information",
      "info": "Tax and shipping information will be displayed if [taxes are included in the price](https://help.shopify.com/en/manual/taxes/location#include-taxes-in-product-prices) or [shipping policy](https://help.shopify.com/en/manual/checkout-settings/refund-privacy-tos#add-or-generate-store-policies) is added"
    },
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "paragraph",
      "content": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
    },
    {
      "type": "select",
      "id": "media_layout",
      "options": [
        {
          "value": "grid",
          "label": "Grid"
        },
        {
          "value": "list",
          "label": "List"
        },
        {
          "value": "collage",
          "label": "Collage"
        },
        {
          "value": "thumbnails",
          "label": "Thumbnails"
        }
      ],
      "default": "grid",
      "label": "Layout"
    },
    {
      "type": "checkbox",
      "id": "display_slider_pagination",
      "default": true,
      "label": "Display pagination on mobile"
    },
    {
      "type": "select",
      "id": "media_aspect_ratio",
      "options": [
        {
          "value": "adapt",
          "label": "Adapt to image"
        },
        {
          "value": "square",
          "label": "Square"
        },
        {
          "value": "portrait",
          "label": "Portrait"
        },
        {
          "value": "landscape",
          "label": "Landscape"
        }
      ],
      "default": "adapt",
      "label": "Image ratio"
    },
    {
      "type": "checkbox",
      "id": "display_captions",
      "default": true,
      "label": "Display captions"
    },
    {
      "type": "checkbox",
      "id": "hide_variants",
      "default": false,
      "label": "Hide unselected variants' media",
      "info": "Media for the unselected variants will be hidden."
    },
    {
      "type": "checkbox",
      "id": "lightbox",
      "default": true,
      "label": "Enable image zoom"
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "default": false,
      "label": "Enable video looping"
    },
    {
      "type": "textarea",
      "id": "science_excerpt",
      "label": "Science Excerpt",
      "default": "Our formula is backed by scientific research and carefully selected ingredients."
    },
    {
      "type": "richtext",
      "id": "ingredients_content",
      "label": "Ingredients Content"
    },
    {
      "type": "richtext",
      "id": "shipping_content",
      "label": "Shipping Content"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Text block",
          "label": "Text"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "style_body",
              "label": "Body"
            },
            {
              "value": "subheading",
              "label": "Subheading"
            },
            {
              "value": "style_vendor",
              "label": "Vendor"
            }
          ],
          "default": "style_vendor",
          "label": "Text Style"
        }
      ]
    },
    {
      "type": "title",
      "name": "Title",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "uppercase",
          "default": true,
          "label": "Make title uppercase"
        },
        {
          "type": "checkbox",
          "id": "show_products_rating",
          "default": true,
          "label": "Show product rating",
          "info": "To display a rating, add a product rating app. [Learn more](https://help.shopify.com/manual/online-store/themes/os20/themes-by-shopify/dawn/sections#featured-collection-show-product-rating)"
        },
        {
          "type": "header",
          "content": "Badges"
        },
        {
          "type": "checkbox",
          "id": "show_custom_badges",
          "default": true,
          "label": "Show custom badges"
        }
      ]
    },
    {
      "type": "inventory_level",
      "name": "Inventory level",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "show_inventory_notice",
          "options": [
            {
              "value": "always",
              "label": "Always"
            },
            {
              "value": "low",
              "label": "Only when inventory low"
            }
          ],
          "default": "always",
          "label": "Show inventory notice"
        },
        {
          "type": "select",
          "id": "show_inventory_count",
          "options": [
            {
              "value": "never",
              "label": "Never"
            },
            {
              "value": "always",
              "label": "Always"
            },
            {
              "value": "low",
              "label": "Only when inventory low"
            }
          ],
          "default": "always",
          "label": "Show count in inventory notice"
        },
        {
          "type": "checkbox",
          "id": "inventory_notice_pulse",
          "default": true,
          "label": "Show pulse"
        },
        {
          "type": "checkbox",
          "id": "inventory_notice_bar",
          "default": true,
          "label": "Show progress bar"
        },
        {
          "type": "number",
          "id": "inventory_notice_threshold",
          "label": "Low inventory threshold",
          "default": 10,
          "info": "Set the product inventory quantity to alert customers when limited quantities are available."
        },
        {
          "type": "number",
          "id": "inventory_notice_base",
          "label": "Inventory base quantity",
          "default": 20,
          "info": "Enter the initial quantity of your product inventory for progress bar."
        }
      ]
    },
    {
      "type": "variant_picker",
      "name": "Variant picker",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "picker_type",
          "options": [
            {
              "value": "dropdown",
              "label": "Dropdown"
            },
            {
              "value": "button",
              "label": "Block"
            }
          ],
          "default": "button",
          "label": "Type"
        },
        {
          "type": "checkbox",
          "id": "color_picker",
          "default": true,
          "label": "Enable color swatches",
          "info": "[Learn more about color swatches.](https://documentation.fuelthemes.net/kb/how-do-i-set-up-product-variant-swatches-2/)"
        },
        {
          "type": "select",
          "id": "color_picker_size",
          "label": "Color swatch size",
          "options": [
            {
              "value": "regular",
              "label": "Regular"
            },
            {
              "value": "large",
              "label": "Large"
            },
            {
              "value": "xlarge",
              "label": "X-large"
            }
          ],
          "default": "regular"
        },
        {
          "type": "checkbox",
          "id": "color_picker_use_variants",
          "default": false,
          "label": "Use variant images for color swatches",
          "info": "Color swatches will use variant featured images if available."
        },
        {
          "type": "checkbox",
          "id": "variant_is_disabled",
          "default": true,
          "label": "Show availability in selectors",
          "info": "When an option is selected, unavailable variants will be crossed-out."
        },
        {
          "type": "header",
          "content": "Sizing guide"
        },
        {
          "type": "text",
          "id": "sizing_guide_variant",
          "default": "Size",
          "label": "Sizing guide variant name",
          "info": "Name of the variant to show the sizing guide link."
        },
        {
          "type": "text",
          "id": "sizing_guide_text",
          "default": "Sizing guide",
          "label": "Sizing guide label",
          "info": "Leave empty to remove the sizing guide link."
        },
        {
          "type": "select",
          "id": "sizing_guide_icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            }
          ],
          "default": "ruler",
          "label": "Sizing guide icon"
        },
        {
          "type": "page",
          "id": "sizing_guide_page",
          "label": "Sizing guide page"
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "Product form",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_quantity_selector",
          "default": true,
          "label": "Show quantity selector"
        },
        {
          "type": "checkbox",
          "id": "outline_button",
          "default": true,
          "label": "Make button outline"
        },
        {
          "type": "checkbox",
          "id": "show_dynamic_checkout",
          "default": true,
          "label": "Show dynamic checkout buttons"
        },
        {
          "type": "checkbox",
          "id": "show_gift_card_recipient",
          "default": false,
          "label": "Show recipient form for gift card products"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1,
      "settings": [
        {
          "type": "range",
          "id": "seo_text_max_height",
          "min": 100,
          "max": 1000,
          "step": 50,
          "label": "Max height",
          "default": 1000,
          "info": "Displays a read more button after the text height exceeds a certain height."
        },
        {
          "type": "text",
          "id": "seo_text_read_more",
          "default": "Read more",
          "label": "Read more label"
        },
        {
          "type": "text",
          "id": "seo_text_read_less",
          "default": "Read less",
          "label": "Read less label"
        }
      ]
    },
    {
      "type": "share",
      "name": "Share",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "If you include a link in social media posts, the page's featured image will be shown as the preview image."
        },
        {
          "type": "paragraph",
          "content": "A store title and description are included with the preview image."
        }
      ]
    },
    {
      "type": "custom_liquid",
      "name": "Custom liquid",
      "settings": [
        {
          "type": "liquid",
          "id": "custom_liquid",
          "label": "Custom liquid",
          "info": "Add app snippets or other Liquid code to create advanced customizations."
        }
      ]
    },
    {
      "type": "side_panel",
      "name": "Information side panel",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Panel 1"
        },
        {
          "type": "text",
          "id": "side_panel_1_label",
          "default": "Materials",
          "label": "Label"
        },
        {
          "type": "select",
          "id": "side_panel_1_icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            }
          ],
          "default": "ruler",
          "label": "Icon"
        },
        {
          "type": "richtext",
          "id": "side_panel_1_content",
          "label": "Side panel content"
        },
        {
          "type": "page",
          "id": "side_panel_1_page",
          "label": "Page"
        },
        {
          "type": "header",
          "content": "Panel 2"
        },
        {
          "type": "text",
          "id": "side_panel_2_label",
          "default": "Shipping &amp; Returns",
          "label": "Label"
        },
        {
          "type": "select",
          "id": "side_panel_2_icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "box",
              "label": "Box"
            }
          ],
          "default": "box",
          "label": "Icon"
        },
        {
          "type": "richtext",
          "id": "side_panel_2_content",
          "label": "Side panel content"
        },
        {
          "type": "page",
          "id": "side_panel_2_page",
          "label": "Page"
        },
        {
          "type": "header",
          "content": "Panel 3"
        },
        {
          "type": "text",
          "id": "side_panel_3_label",
          "default": "Care Guide",
          "label": "Label"
        },
        {
          "type": "select",
          "id": "side_panel_3_icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ],
          "default": "washing",
          "label": "Icon"
        },
        {
          "type": "richtext",
          "id": "side_panel_3_content",
          "label": "Side panel content"
        },
        {
          "type": "page",
          "id": "side_panel_3_page",
          "label": "Page"
        }
      ]
    },
    {
      "type": "specifications_tab",
      "name": "Product specifications",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Product specifications",
          "label": "Heading"
        },
        {
          "type": "checkbox",
          "id": "open",
          "default": false,
          "label": "Open by default"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Metafields"
        },
        {
          "type": "text",
          "id": "empty_field_label",
          "default": "N/A",
          "label": "Empty field text"
        }
      ]
    },
    {
      "type": "collapsible_tab",
      "name": "Collapsible row",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Collapsible row",
          "label": "Heading"
        },
        {
          "type": "checkbox",
          "id": "open",
          "default": false,
          "label": "Open by default"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Row content"
        },
        {
          "type": "page",
          "id": "page",
          "label": "Row content from page"
        },
        {
          "type": "liquid",
          "id": "custom_liquid",
          "label": "Custom liquid"
        }
      ]
    },
    {
      "type": "complementary",
      "name": "Complementary products",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "To select complementary products, add the Search & Discovery app."
        },
        {
          "type": "text",
          "id": "block_heading",
          "default": "Pairs well with",
          "label": "Heading"
        },
        {
          "type": "range",
          "id": "product_list_limit",
          "min": 1,
          "max": 10,
          "step": 1,
          "default": 10,
          "label": "Maximum products to show"
        }
      ]
    },
    {
      "type": "fit_guide",
      "name": "Fit guide",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "block_heading",
          "default": "Fit guide",
          "label": "Heading"
        },
        {
          "type": "text",
          "id": "label_active",
          "default": "4",
          "label": "Active segment"
        },
        {
          "type": "text",
          "id": "label_left",
          "default": "Small",
          "label": "Left label"
        },
        {
          "type": "text",
          "id": "label_middle",
          "default": "True to size",
          "label": "Middle label"
        },
        {
          "type": "text",
          "id": "label_right",
          "default": "Large",
          "label": "Right label"
        },
        {
          "type": "header",
          "content": "Colors"
        },
        {
          "type": "color",
          "id": "color_active_segment",
          "label": "Active segment",
          "default": "#151515"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "select",
          "id": "position",
          "label": "Position",
          "options": [
            { "value": "text-center", "label": "Center" },
            { "value": "text-left", "label": "Left" },
            { "value": "text-right", "label": "Right" }
          ],
          "default": "text-left"
        }
      ]
    },
    {
      "type": "custom_option",
      "name": "Line item property",
      "settings": [
        {
          "type": "paragraph",
          "content": "Line item properties are used to collect customization information for an item added to the cart."
        },
        {
          "type": "select",
          "id": "type",
          "label": "Type",
          "default": "text",
          "options": [
            { "label": "Text", "value": "text" },
            { "label": "Textarea", "value": "textarea" },
            { "label": "Checkbox", "value": "checkbox" },
            { "label": "Multiple options", "value": "multiple" }
          ]
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Custom option"
        },
        {
          "type": "checkbox",
          "id": "text_required",
          "label": "Required",
          "default": false
        },
        {
          "type": "header",
          "content": "Text"
        },
        {
          "type": "text",
          "id": "text_placeholder",
          "label": "Placeholder",
          "default": "Enter your text here"
        },
        {
          "type": "header",
          "content": "Checkbox"
        },
        {
          "type": "text",
          "id": "checkbox_checked_value",
          "label": "Checked value",
          "default": "Yes"
        },
        {
          "type": "text",
          "id": "checkbox_unchecked_value",
          "label": "Unchecked value",
          "default": "No"
        },
        {
          "type": "header",
          "content": "Multiple options"
        },
        {
          "type": "select",
          "id": "multiple_style",
          "label": "Style",
          "default": "dropdown",
          "options": [
            { "label": "Dropdown", "value": "dropdown" },
            { "label": "Radio", "value": "radio" }
          ]
        },
        {
          "type": "textarea",
          "id": "multiple_options",
          "label": "Options",
          "default": "Option 1\nOption 2\nOption 3"
        }
      ]
    },
    {
      "type": "sku",
      "name": "SKU",
      "settings": [
        {
          "type": "select",
          "id": "sku_style",
          "options": [
            { "value": "style_body", "label": "Body" },
            { "value": "subheading", "label": "Subheading" },
            { "value": "style_vendor", "label": "Vendor" }
          ],
          "default": "style_vendor",
          "label": "SKU style"
        }
      ]
    },
    {
      "type": "siblings",
      "name": "Siblings",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "Siblings allow you to split colors into separate products."
        },
        {
          "type": "text",
          "id": "siblings_collection",
          "label": "Product siblings collection handle"
        },
        {
          "type": "text",
          "id": "sibling_color",
          "label": "Product color metafield"
        },
        {
          "type": "select",
          "id": "color_picker_size",
          "label": "Sibling swatch size",
          "options": [
            { "value": "regular", "label": "Regular" },
            { "value": "large", "label": "Large" },
            { "value": "xlarge", "label": "X-large" }
          ],
          "default": "regular"
        },
        {
          "type": "header",
          "content": "Spacing"
        },
        {
          "type": "range",
          "id": "margin_bottom",
          "min": 0,
          "max": 50,
          "step": 2,
          "unit": "px",
          "label": "Margin bottom",
          "default": 20
        }
      ]
    },
    {
      "type": "shipping_estimator",
      "name": "Shipping estimator",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "default_country",
          "label": "Default country"
        },
        {
          "type": "checkbox",
          "id": "open",
          "default": false,
          "label": "Open by default"
        }
      ]
    },
    {
      "type": "payment_icons",
      "name": "Payment icons",
      "limit": 1,
      "settings": []
    },
    {
      "type": "science_excerpt",
      "name": "Backed By Science",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Backed By Science"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Content",
          "default": "Our formula is backed by scientific research and carefully selected ingredients."
        }
      ]
    },
    {
      "type": "tabs",
      "name": "Product Tabs",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Tab Visibility"
        },
        {
          "type": "checkbox",
          "id": "show_description",
          "label": "Show Description tab",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_ingredients",
          "label": "Show Ingredients tab",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_shipping",
          "label": "Show Shipping tab",
          "default": true
        },
        {
          "type": "richtext",
          "id": "ingredients_content",
          "label": "Ingredients Content"
        },
        {
          "type": "richtext",
          "id": "shipping_content",
          "label": "Shipping Content"
        }
      ]
    }
  ]
}
{% endschema %}